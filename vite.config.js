import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],

  base: "./", // –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–π URL –¥–ª—è –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
  // server: {
  //   // –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –¥—Ä—É–≥–æ–≥–æ –¥–æ–º–µ–Ω–∞, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä proxy –≤ package.json
  //   proxy: {
  //     "/api": {
  //       target: "http://itgirlschool.justmakeit.ru",
  //       changeOrigin: true,
  //     },
  //   },
  // },
})

// base: "./", 
// –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–π URL –¥–ª—è –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è). "./" –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—Å–µ –ø—É—Ç–∏ –±—É–¥—É—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–∑–º–µ—â–µ–Ω–æ –≤ –ø–æ–¥–ø–∞–ø–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, https://example.com/my-app/).
//–ë–µ–∑ —ç—Ç–æ–≥–æ —Å—Å—ã–ª–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º–∏ (/assets/main.css), –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –ø—Ä–∏ –¥–µ–ø–ª–æ–µ.

// server.proxy ‚Äî –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ API-–∑–∞–ø—Ä–æ—Å–æ–≤
// üí° –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?
// –≠—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Vite).
// üîπ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
// –ï—Å–ª–∏ –≤ –∫–æ–¥–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è API-–∑–∞–ø—Ä–æ—Å –Ω–∞ /api, –Ω–∞–ø—Ä–∏–º–µ—Ä:
// fetch("/api/data")
// Vite –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ http://itgirlschool.justmakeit.ru/api/data
// –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å CORS (–∫–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –¥—Ä—É–≥–æ–π –¥–æ–º–µ–Ω).
// üîπ –†–∞–∑–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
// target: "http://itgirlschool.justmakeit.ru" ‚Üí –ö—É–¥–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã.
// changeOrigin: true ‚Üí –ú–µ–Ω—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Origin, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –¥—É–º–∞–ª, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –ø—Ä—è–º–æ –æ—Ç –Ω–µ–≥–æ (–∞ –Ω–µ —Å localhost).
// üìå –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
// –£–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å API –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
// –ò–∑–±–µ–≥–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å CORS (–±—Ä–∞—É–∑–µ—Ä –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã).
// –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å fetch("/api/..."), –∞ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π URL (fetch("http://itgirlschool.justmakeit.ru/api/...")).